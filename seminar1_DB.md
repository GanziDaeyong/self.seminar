공신력있는 사이트와 기사를 기반으로 하되, 단번에 그 로직이 이해되지 않는 내용은 질문-자답의 형식으로 작성하였다.


Database
========================
1. DB와 DBMS
--------------------

* DB란, 여러 사람들이 공유하여 사용할 목적으로 체계화해 통합, 관리하는 데이터의 집합이다.
쉬운 예로는, "인사 정보 목록"을 생각하면 된다. 수많은 정보(데이터)들이 체계적으로 관리되는 것이라면 DB라 할 수 있다.

* DB는 DBMS를 통해 관리한다. DBMS란, DB management system, 즉 데이터베이스를 관리하기 위한 미들웨어이다.
참고) 미들웨어란, 운영 체제와 응용프로그램 사이에 위치하는 소프트웨어이다. 대표적인 역할로는 분산응용프로그램의 통신 및 데이터 관리에 사용된다.

* DBMS는 "데이터의 종속성과 중복성"을 해결하기 위해 고안되었다. 

데이터 종속성이란, 프로그램의 구조가 데이터의 구조에 영향을 받거나, 혹은 그 반대의 방식으로 영향을 받음을 의미한다. 이는 데이터의 구조를 수정하면 프로그램이 수정되어야 하며, 반대로 프로그램에 따라 데이터를 각기 다른 형태로 가공해야 하므로, 시간적/공간적 낭비와 비용증가 문제가 발생한다.
데이터 중복성이란, 데이터의 종속성 때문에 매 프로그램마다 데이터를 중복하여 저장하게 되는 현상을 의미한다. 이는 저장공간의 낭비이자, 데이터 수정 시에도 각각의 데이터들을 따로 수정해줘야 하는 불편함을 야기한다.

Q) 그렇다면 DBMS 없이는 DB를 관리할 수 없는가?
A) 아니다. 자바를 통해 json을 구현할 수도, txt파일로 csv, tsv 형식을 지켜 구현할 수도 있다. 다만 DB의 관리 측면에서 굉장한 어려움이 따를 것이다.
DBMS가 없다면 "공유하여 사용할 목적"을 달성하기 상당히 어려워진다.

* DMBS의 특징이자 목표로는 최소화된 반복 및 잉여, 큰 데이터베이스에 대한 쉬운 유지보수, 강력한 보안, 일관성 등이 있다.
 
Q) 엑셀은 DBMS인가?
A) 아니다. 엑셀은 단일 사용자를 위한 spreadsheet 기능을 제공할 뿐 데이터 조작 방법, 보안, 저장량 등의 관점에서 DBMS는 아니다. Acess는 후술할 RDBMS를 제공하는 DBMS이다.

* DB는 데이터베이스를 의미하나, DBMS와 혼용되는 경향이 있다.

---------------------
2. DB의 종류에는 어떤 것들이 있는가?
----------------------

* 유의할 점은, 흔히 말하는 DB의 종류는 DBMS의 방법론을 의미한다는 것이다. DBMS와 별개로 DB의 종류는 데이터의 속성에 따라 무궁무진한 종류가 있을 것이다. 

즉, 데이터들을 어떻게 "엮는지"에 기반한 분류로 볼 수 있다.

* 크게 계층형 DB / 네트워크형 DB / 관계형 DB / 비관계형 DB의 4가지로 분류한다.

* 다만 계층형 데이터베이스와 네트워크형 데이터베이스는 오늘날 사실상 사용되지 않으므로 관계형 데이터베이스, 비관계형 데이터베이스로 양분하기도 한다.


1. 계층형 DB

* 데이터들이 계층적이고 상하 종속적이며, 트리 구조를 취한다.
* 20세기 중~후반에 사용되었으며, 대표적인 DBMS로 IMS, RDM Mobile 등이 있다.

장점) 
데이터에 접근하는 속도가 매우 빠르다. 
데이터 사용량에 대한 예측이 가능하다.

단점) 
트리 구조 특성상 데이터의 수정, 추가가 어렵다.
위에서 아래로의 일방향성 때문에 일대일 혹은 일대다 관계는 표현할 수 있지만, 다대다는 구현하기 힘들다.

 
2. 네트워크형 DB

* 계층형 DB를 기반으로 노드와 path를 도입하여 각 데이터들이 자유롭게 서로와 연결될 수 있도록 하였다.
* 20세기 중~후반에 사용되었으며, 대표적인 DBMS로 IDS, IMAGE, IDMS 등이 있다.

장점) 
다대다와 같이 복잡하고 실제적인 관계를 구현할 수 있다.
계층형 DB의 상하 종속적인 문제를 해결할 수 있다.

단점)
구성과 설계가 복잡하여 데이터의 수정이나 추가 시 어려움이 따른다.
여전히 데이터 종속성 문제를 해결하지 못해 데이터 수정 시 응용프로그램의 수정 또한 요구된다.

* 계층형 DB와 네트워크형 DB를 탐색형 DB라고 일컫기도 한다.

3. 관계형 DB

* 테이블이라는 내에서 행(==레코드)과 열(==칼럼==필드)으로 데이터를 표현한다.
* 칼럼의 중복을 기반으로 기본키와 외래키를 활용해 데이터간의 관계를 나타낸다.
* SQL이라는 직관적인 구조화 질의어를 사용한다. 
* 20세기 후반부터 현재까지 사용되고 있으며, 대표적인 DBMS로 Oracle, MySQL, SQLite 등이 있다.

장점)
다양한 용도로 사용 가능하다.
일대일, 일대다, 다대다 관계를 모두 쉽게 구현할 수 있다.
데이터의 분류, 탐색, 정렬 속도가 빠르다.
DBMS가 트랜잭션의 성질(ACID)을 엄격히 준수하여 안정적인 데이터베이스 구축이 가능하다. 

Q) 트랜잭션이란 무엇인가?
A) DBMS에서 DB의 상태를 변환하는 하나의 작업의 단위이며, 결과는 커밋과 롤백 중 하나로 나타난다.
실질적으로 sql로 데이터를 수정하거나 삽입하는 행위, 쿼리를 날려 데이터에 변환을 주는 모든 행위의 개별 단위가 트랜잭션이다.
트랜잭션은 ACID를 따른다.

Q) ACID란 무엇인가?
A) (와플스튜디오 백엔드 세미나 슬라이드 및 설명 일부 인용)
Atomicity: 원자성. 트랜잭션은 부분 없이, 하나의 단위로서 진행된다. 은행 거래 시 송금과 수신이 하나의 단위로 묶여 오류가 나더라도 둘 다 되거나, 둘 다 안되거나 해야한다. 송금은 되고 수신은 안되면 큰일..
Consistency: 일관성. 트랜적션이 완료되면 해당 DB는 일관된 유지하고, 트랜잭션과 무관한 요소는 계속 일관된 상태를 유지해야 한다. 은행 거래 시 트랜잭션 완료 후에 갑자기 데이터타입이 double -> int로 바뀌면 큰일난다. 
Isolation: 고립성. 트랜잭션 수행 시, 다른 작업이 중간에 개입하면 안된다. A의 정보를 저장하는 트랜잭션 수행 중, 입력은 했으나 아직 commit 하지 않은 상태이고, B가 회원정보를 모두 출력하는 작업을 실시했다고 하자. 아직 커밋되지 않은 A의 정보까지 출력되면, 이후 A가 커밋하지 않고 롤백할 경우 큰 문제가 발생한다.
다만, DBMS의 목적에 따라 Isolation은 위반 가능하다. read uncommitted(가장 동시적, 위험 높다)/ read committed/ repeatable read/ serializable(가장 비동시적, 위험 낮다.)
Durability: 영구성(지속성). 데이터베이스를 열심히 작업했는데, 컴퓨터를 껐다 켰더니 일부가 날아가있으면 절대 안되듯이.

Q) 관계형 DB가 아니면 ACID가 지켜지지 않는가?
A) 아니다. 트랜잭션은 말 그대로 작업의 단위이고, ACID는 그 특성일 뿐, DB의 종류와 무관하다. 네트워크형에서도, 비관계형DB에서도 충분히 지켜질 수 있다. 
다만, 관계형 DB는 트랜잭션을 쉽게 관리할 수 있는 SQL을 지원하고, 안정성을 특히 중시하는 DB형태이다보니, 이를 관리하는 DBMS 측면에서도 ACID 관점에서 서비스를 제공하는 것이다.

단점)
빅데이터(혹은 많은 양의 데이터를) 다루기 부적절하다.
데이터 복구가 어렵다. 물론 이는 백업과 개발자의 주의로 해결 가능한 부분이긴 하다.
데이터 구조 변경에 유연하지 않다. 이미 데이터들이 엄격히 테이블과 스키마 구조를 따르고, 복잡한 쿼리의 경우 이를 변경하는 것은 까다롭다.
쿼리 비용이 높은 편이다.

Q) 왜 관계형 DB는 빅데이터에 부적합한가?
A) 다양한 이유가 있다. 
첫째로, 관계형 DB자체가 편리하고 범용성있는 방식이지만, 수평확장성 없이 수직확장성을 갖는다. 페타바이트 이상의 데이터를 다루기 위해서는 고성능의 하드웨어(ram, cpu 등)를 구비해야 한다. 즉, 관계형DB가 빅데이터를 다루려면 비용문제가 발생한다.
둘째로, 관계형 DB는 구조적인(혹은 정황화된) 데이터를 입력받는 데 특화되어있다. 빅데이터는 구조화되어있지 않은 경우가 많거나, 형식이 아예 존재하지 않는 무질서한 경우가 대다수이다. 따라서 데이터 입력의 차원에서 관계형 DB에 담기에 어려움이 따른다.
셋째로, 관계형 DB는 엄격한 트랜잭션 관리 덕에 안정성이 크지만, 그만큼 순간적인 데이터 저장 능력은 떨어진다. 따라서 급변하는 데이터를 입력, 가공하기 어렵다.

Q) 관계형 DB는 느리다? 빠르다?
A) 관계형 DB가 택하는 테이블을 통한 데이터 저장과 칼럼으로 테이블을 연결하는 방식은 매우 공간효율적이다. 
따라서 트래픽이 원활하고, 데이터 양이 많지 않은 평상시에는 해당 방식이 다른 DB에 비해 빠르다고 할 수 있다.
그러나 확장성이 떨어지는 관계로 트래픽이 몰리거나 많은 양의 데이터를 처리하는 경우 느려질 수 있다.

Q) ORM이란?
A) 객체-관계 맵핑. 관계형 DB를 객체지향언어로 구현할 때, 하나의 데이터는 하나의 객체가 된다.
이를 필자는 실제 데이터를 객체로 번역해내는 과정이라 생각. -> 데이터와 객체의 모델을 완벽히 맞춰주기 위한 것이 바로 ORM이다.
DB에 해당하는 내용이라기보다, DB를 컴퓨터언어로 프로그래밍하는 과정 중 하나로 볼 수 있다.


4. 비관계형 DB
* Not Only SQL, NoSQL 등으로 불린다.
* 초고용량 데이터 처리 등 성능에 특화된 목적을 위해, 비관계형 데이터 저장소에, 비구조적인 데이터를 저장하기 위한 분산 저장 시스템이다.
* 가장 두드러지는 특징은 스키마와 관계를 설정하지 않는다는 것이다.
* 데이터 구조에 따라 column형, graph형, key-value형, document형 등으로 나눌 수 있다.
* 용어: {sql용어,nosql용어} {table, collection}, {record, documents}
* ACID 대신 CAP가 적용된다. (오늘날은 이 둘을 합쳐 사용하기도 한다.)
* 2000년대 들어서 등장했으며, 대표적인 DBMS로 MongoDB, Redis, Cassandra 등이 있다.

Q) CAP란?
A)
Consistency: 모든 노드가 동시에 동일한 데이터를 조회한다.
Availability: 성공/ 실패 상관없이 모든 요청에 대한 응답을 보장한다.
Partition Tolerance: 예측불가능한 데이터 손실이나 일부 시스템 오류에 대해서 전체 시스템은 항상 정상 작동함을 보장한다.
이를 CP를 준수하는 DBMS / AP를 준수하는 DBMS로 분류하기도 한다.

Q) 샤딩이란?
비관계형 DB는 데이터를 여러 서버로 분산시킨다. 이 때 데이터베이스 단위로 분류하는 기술을 샤딩이라 한다.
Ex) 전체 DB중 한국에는 한국 사용자 데이터만, 미국에는 미국 사용자만..

Q) 각 구조는 어떻게 다른가?
A) 
칼럼형은 데이터를 열 그룹에 저장한다. 관계형 DB와 달리 스키마가 없기에 한 행이 여러 열을 가질 수 있다.
키-값 형은 딕셔너리처럼 간단하게 키와 값으로 한 쌍의 데이터를 저장한다. 검색 속도가 매우 빠르다.
그래프형은 각 데이터를 노드로 두고 이를 엣지로 연결한 형태이다.
문서형은 키-값 형을 바탕으로, 값을 json의 문서형으로 두는 형태이다. 검색이 편리하고, 속도또한 빠르다.
장점)
비정형/ 반정형 데이터를 쉽게 저장, 가공할 수 있다.
유연한 데이터 모델링이 가능하고, 고정된 스키마가 필요하지 않다.
확장성이 뛰어나 데이터의 분산이 용이하다.
응답 속도(저장과 조회 속도)와 처리 효율이 가장 좋다.
데이터 복제를 통해 복잡한 join문 없이도 효율적인 쿼리가 가능하다.

Q) 데이터를 복제하면 중복성 문제를 해결하지 못하는 것 아닌가?
A) ...

Q) 비관계형 DB는 왜 빠른가?
A) 데이터가 정형화될 필요가 없기 때문에, 프로그램이 원하는 형식으로 데이터를 저장할 수 있다. 즉, 형식 측면에서 속도가 빠를 수밖에 없다.

단점)
데이터의 구조를 정하기 어렵다. 이는 각 데이터들의 형태 자유도와의 트레이드오프.
개별 데이터 단위로 보안을 제공하지 않는다.
통일된 SQL을 사용하는 관계형DB와 달리 각 NoSQL / DBMS마다 다른 언어를 사용해 이식성이 낮다.
복제된 데이터가 수정되면, 여러 컬렉션과 문서를 수정해줘야 한다.

-------------------
3. DBMS 업계 동향은 어떠한가?
-------------------

* 사실상 기능과 효율의 문제로 오늘날 계층형이나 네트워크형 DB는 사용되지 않는다.

* 주요 기능과 특징을 상기해보자. 관계형DB는 정형화되고, 구조화된 데이터를 매우 안정적으로 관리할 수 있다. 비관계형 DB는 정형화되지 않은 많은 양의 데이터를 빠르게 관리할 수 있다.

* 관계형 DB는 엄격한 ACID에 기반하여 트랜잭션을 관리하므로, 금융, 인사체계, 재고추적, 고객정보관리와 같이 보안 및 안정성이 중시되는 시스템에서 사용된다. 
* 반대로 비관계형 DB는 빅데이터, SNS와 같이 상대적으로 많고 무질서한 데이터들을 다루는 데 사용된다.
다만, 데이터에 직접 수정이 가해지는 경우가 많은 경우, 비관계형 DB는 선호되지 않는데, 이는 비관계형 DB가 복제의 방식을 사용하기 때문에 하나의 값이 수정되면, 그를 복제한 컬랙션들을 모두 수정해줘야 하기 때문에 번거롭기 때문이다.
 
* 2017년 기준 DBMS 시장 규모는 60조원, 국내는 6500억원대이다. 2020년 기준 관계형 DB는 대략 60퍼센트, 비관계형 DB는 40퍼센트 가량을 차지하고 있다.
* 매출액 기준으로는 여전히 비관계형 DB가 관계형 DB에 한참 뒤지지만, 점유율로는 비관계형 DB가 급속도로 성장중이다. 이는 위에서 언급한 바, 관계형 DB, DBMS자체가 비쌀 뿐더러, 대부분의 비관계형DB는 오픈소스이기 때문이다.
* 2020년 기준 종합 점수(매출, 인지도, 점유율 모두 포괄)는 Oracle-MySQL-MS SQL Server-PostgreSQL-MongoDB(db-engines.com)이다.
* 2020년 기준 단순 시장 점유율 순위는 MS SQL Server-MySQL-MS Acess-Oracle-PostgreSQL이다.(Datanyze.com)

* MySQL의 실소유주는 오라클이다. 그러나 오라클 또한 자체 DBMS를 가지고 있어 내부적으로는 호의적이지 않다고 한다.
* 다만 아직 대다수의 한국 대기업은 오라클을 선호한다. 다양한 원인이 있는데, 오라클이 더 대용량 데이터베이스에 친화적이고, 보안과 안정성 측면에서 MySQL보다 뛰어나다. 
-> 그러나 오라클은 유료이고 MySQL이 오픈소스임을 감안하면, 우월을 가리기는 힘들다. 작은 규모의 사업에서는 MySQL을 더 선호한다.
* 오라클의 오픈소스에 대한 적대적 행보때문에, 많은 기업들이 MySQL을 대체할 새로운 DB를 찾고 있다고 한다. 그 대안으로 떠오른 것이 PostgreSQL이며, 페도라와 오픈수세 리눅스에서 채택한 MariaDB 또한 있다.

* 일각에서는 비관계형 DB가 DB시장을 독점하게 될 것이라 본다.
* 그러나 대다수는 여전히 DB 구조 상 비관계형 DB보다 기업 입장에서 매력적인 측면이 많기 때문에 관계형DB가 점유율을 크게 잃지는 않을 것이라 예측한다.
* 관계형 DB가 우세하되, 비정형 데이터들을 더욱 쉽게 가공/ 관리할 수 있는 방향으로 발전할 것이라 예측된다.
* 혹은, SQL과 NoSQL의 가교 역할을 하는 DB가 등장하여 양측의 장점만 취사선택할 수 있게 될 것이라는 예측도 존재한다.

* 그 외에도 다양한 예측들이 있는데, 향후 보안 문제가 더욱 엄격히 다루어질 것이라는 예측, DB자체가 DB관리자나 개발자 필요 없이 자동화된 관리 기법을 갖게 될 것이라는 예측 등이 있다.


==============================


참고한 문헌 및 사이트
https://poem23.com/2672
http://www.dbguide.net/db.db?cmd=view&boardUid=186825&boardConfigUid=9&categoryUid=216&boardIdx=155&boardStep=1
https://m.blog.naver.com/shakey7/221558533513
(삼성 SDS | NoSQL이란 무엇인가? 대량데이터 동시처리위한 DBMS 종류와 특징 2020.05.19).
https://coding-factory.tistory.com/226
https://www.astera.com/type/blog/database-management-software/
https://velog.io/@dnjscksdn98/Database-%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4%EB%9E%80
https://www.oracle.com/kr/database/what-is-database.html
https://www.oracle.com/kr/database/what-is-a-relational-database
http://www.tcpschool.com/mysql/DB
https://ourcstory.tistory.com/30
https://m.blog.naver.com/PostView.nhn?blogId=haideskiller&logNo=221002843370&proxyReferer=https:%2F%2Fwww.google.com%2F
https://www.rfwireless-world.com/Terminology/Advantages-and-Disadvantages-of-RDBMS.html#:~:text=Drawbacks%20or%20disadvantages%20of%20RDBMS,-Following%20are%20the&text=%E2%9E%A8Complex%20software%20refers%20to,to%20recover%20the%20lost%20data.